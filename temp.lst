     1                                 %line 1+1 temp.asm
     2                                 [section .data]
     3                                 
     4                                 LF equ 10
     5                                 NULL equ 0
     6                                 TRUE equ 1
     7                                 FALSE equ 0
     8                                 EXIT_SUCCESS equ 0
     9                                 STDIN equ 0
    10                                 STDOUT equ 1
    11                                 STDERR equ 2
    12                                 SYS_read equ 0
    13                                 SYS_write equ 1
    14                                 SYS_open equ 2
    15                                 SYS_close equ 3
    16                                 SYS_fork equ 57
    17                                 SYS_exit equ 60
    18                                 SYS_creat equ 85
    19                                 
    20 00000000 4000000000000000       b@global dq 64
    21 00000008 616263000000000000-    a@global db "abc", NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL
    22 00000008 000000000000000000-
    23 00000008 0000               
    24 0000001C 2D00000000000000       const0 dq 45
    25 00000024 3702000000000000       const1 dq 567
    26 0000002C 3800000000000000       const2 dq 56
    27 00000034 5B45050000000000       const3 dq 345435
    28 0000003C 6100000000000000       const4 dq 97
    29 00000044 1B2F5D40               const5 dd 3.456
    30 00000048 256461626325646465-    const6 db "%dabc%ddef%dghi%d %ld char %c %f%s%dle", NULL
    31 00000048 662564676869256420-
    32 00000048 256C64206368617220-
    33 00000048 256320256625732564-
    34 00000048 6C6500             
    35 0000006F 4300000000000000       const7 dq 67
    36 00000077 0000000000000000       const8 dq 0
    37                                 
    38                                 [section .bss]
    39                                 
    40                                 [extern printf]
    41                                 [extern scanf]
    42                                 [extern malloc]
    43                                 [extern puts]
    44                                 [section .text]
    45                                 [global foo]
    46                                 foo:
    47 00000000 55                     push rbp
    48 00000001 4889E5                 mov rbp,rsp
    49                                 
    50 00000004 4883EC04               sub rsp, 4
    51 00000008 4883EC08               sub rsp, 8
    52 0000000C 48893C24               mov qword [rsp],rdi
    53 00000010 4883EC04               sub rsp, 4
    54 00000014 F30F110424             movss dword [rsp],xmm0
    55                                 
    56 00000019 4883EC08               sub rsp, 8
    57 0000001D 4C8B55F4               mov r10, qword [rbp-12]
    58 00000021 F3410F2AC2             cvtsi2ss xmm0,r10d
    59 00000026 F30F1145EC             movss dword[rbp-20], xmm0
    60 0000002B F30F1045EC             movss xmm0, dword [rbp-20]
    61 00000030 F30F104DF0             movss xmm1, dword [rbp-16]
    62 00000035 F30F58C1               addss xmm0, xmm1
    63 00000039 F30F1145E8             movss dword[rbp-24], xmm0
    64                                 
    65 0000003E F30F1045E8             movss xmm0, dword[rbp-24]
    66 00000043 C9                     leave
    67 00000044 C3                     ret
    68                                 [global main]
    69                                 main:
    70 00000045 55                     push rbp
    71 00000046 4889E5                 mov rbp,rsp
    72                                 
    73 00000049 4883EC08               sub rsp, 8
    74                                 
    75 0000004D 4881EC91000000         sub rsp, 145
    76 00000054 4C8B1425[00000000]     mov r10, qword [const0]
    77 0000005C 4C8955F0               mov qword[rbp-16], r10
    78 00000060 4C8B1425[00000000]     mov r10, qword [const1]
    79 00000068 4C8955E8               mov qword[rbp-24], r10
    80 0000006C 4C8B1425[00000000]     mov r10, qword [const2]
    81 00000074 4C8955E0               mov qword[rbp-32], r10
    82 00000078 4C8B1425[00000000]     mov r10, qword [const3]
    83 00000080 4C8955D8               mov qword[rbp-40], r10
    84 00000084 4C8B1425[00000000]     mov r10, qword [const4]
    85 0000008C 448855D7               mov byte[rbp-41], r10b
    86 00000090 4C8B1425[00000000]     mov r10, qword[const6+0]
    87 00000098 4C89956FFFFFFF         mov qword[rbp-145+0], r10
    88 0000009F 4C8B1425[08000000]     mov r10, qword[const6+8]
    89 000000A7 4C899577FFFFFF         mov qword[rbp-145+8], r10
    90 000000AE 4C8B1425[10000000]     mov r10, qword[const6+16]
    91 000000B6 4C89957FFFFFFF         mov qword[rbp-145+16], r10
    92 000000BD 4C8B1425[18000000]     mov r10, qword[const6+24]
    93 000000C5 4C895587               mov qword[rbp-145+24], r10
    94 000000C9 448B1425[20000000]     mov r10d, dword[const6+32]
    95 000000D1 4489558F               mov dword[rbp-145+32], r10d
    96 000000D5 66448B1425[24000000]     mov r10w, word[const6+36]
    97 000000DE 6644895593             mov word[rbp-145+36], r10w
    98 000000E3 448A1425[26000000]     mov r10b, byte[const6+38]
    99 000000EB 44885595               mov byte[rbp-145+38], r10b
   100                                 
   101                                 
   102 000000EF 4883EC01               sub rsp, 1
   103 000000F3 448A55D7               mov r10b, byte [rbp-41]
   104 000000F7 44881424               mov byte [rsp], r10b
   105 000000FB 4154                   push r12
   106 000000FD 4989E4                 mov r12, rsp
   107 00000100 50                     push rax
   108 00000101 4080E400               and spl, 0x0
   109                                 
   110                                 
   111                                 
   112                                 
   113                                 
   114 00000105 488D3C25[00000000]     lea rdi, [const6]
   115 0000010D 48C7C000000000         mov rax ,0
   116 00000114 E8(F6FFFFFF)           call printf
   117 00000119 4C89E4                 mov rsp, r12
   118 0000011C 58                     pop rax
   119 0000011D 415C                   pop r12
   120                                 
   121 0000011F 48898567FFFFFF         mov qword[rbp-153], rax
   122 00000126 4883C401               add rsp,1
   123                                 
   124 0000012A 488B0425[00000000]     mov rax , qword[const8]
   125 00000132 C9                     leave
   126 00000133 C3                     ret
